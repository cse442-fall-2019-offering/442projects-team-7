<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="pos.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="title">RPi Point of Sale - Cashier Default Window</title>
  </head>
  <body>
    <div id="Nav-wrapper">
      <div id="navbar">
      </div>
    </div>
    <div id="CSI-wrapper">
      <div id="Create Sale Interface">

        <div id="Sale-Page-Navbar">
		  <button class="navButton">Customer Lookup</button>
		  <button class="navButton" onclick="popUp('itemManip');" value="Edit Items" id="itemManip">Edit Items</button>
	      <script src="main.js"></script>
        </div>

        <section>
          <div id="Transaction-Info-Panel">
            <div id="Inner-Transaction-Panel">
                <input id="Item-Search-Field" type="text" name="search_text" placeholder="Enter a SKU, scan barcode, or search for item...">
                <button class="tableButton" type="button" onclick="addMainTableItem();" id ="searchItem">Search Item</button>
                <button class="tableButton" type="button" onclick="deleteSelectedItems('main');">Delete Item</button>
                <script src="tableManip.js"></script>
            </div>
            <!--button id="test-button" onclick="addToTable();"></button>
            <script type="text/javascript">
                const { DAO, getData, setData } = require('./dao.js');
                const { ipcRenderer} = require('electron');
                const Promise = require('bluebird');
                const Products = require('./products.js');
                const DBPATH = "./datastore.db";
                const TableHelper = require('./tableManip.js');

                const DAOtest = new DAO(DBPATH);
                const customerStore = new Customers.Customers(DAOtest);
                const productStore = new Products.Products(DAOtest);

                function addToTable() {
                    var sku = document.getElementById('Item-Search-Field').value;
                    console.log('sku : ' + sku);
                    // Call function to generate productDB and return
                    productStore.createTable()
                        .then(() => productStore.getBySku(sku))
                        .then((product) => {
                        console.log('Retrieved product from DB', product);
                        return new Promise((resolve, reject) => {
                            //var sku = product.sku;
                            //var description = product.description;
                            //var price = product.unit_price;
                            console.log(`SKU = ${product.sku}`);
                            console.log(`Description = ${product.description}`);
                            console.log(`Price = ${product.unit_price}`);
                            //var productArray = {sku, description, price};
                        });
                        resolve("success");
                        })
                        .catch((err) => {
                        console.log('Error: ');
                        console.log(err);
                        });
                }

                
            </script-->
          </div>

          <table id="Item-List-Panel">
            <thead id="Column-Headers">
              <tr>
                <th id="SKU-Column">SKU</th>
                <th id="Description-Column">Description</th>
                <th id="Unit-Price-Column">Unit Price</th>
                <th id="Quantity-Column">Qty</th>
                <th id="Total-Column">Total</th>
              </tr>
            </thead>
            <tbody id="Table-Data">
            	<tr id="row_1" class="tableEntryA">
            		<td class="tableColumn1"></td>
            		<td class="tableColumn2"></td>
            		<td class="tableColumn3"></td>
            		<td class="tableColumn4"></td>
            		<td class="tableColumn5"></td>
            	</tr>
            	<tr id="row_2" class="tableEntryB">
            		<td class="tableColumn1"></td>
            		<td class="tableColumn2"></td>
            		<td class="tableColumn3"></td>
            		<td class="tableColumn4"></td>
            		<td class="tableColumn5"></td>
            	</tr>
            	<tr id="row_3" class="tableEntryA">
            		<td class="tableColumn1"></td>
            		<td class="tableColumn2"></td>
            		<td class="tableColumn3"></td>
            		<td class="tableColumn4"></td>
            		<td class="tableColumn5"></td>
            	</tr>
            	<tr id="row_4" class="tableEntryB">
            		<td class="tableColumn1"></td>
            		<td class="tableColumn2"></td>
            		<td class="tableColumn3"></td>
            		<td class="tableColumn4"></td>
            		<td class="tableColumn5"></td>
            	</tr>
            	<tr id="row_5" class="tableEntryA">
            		<td class="tableColumn1"></td>
            		<td class="tableColumn2"></td>
            		<td class="tableColumn3"></td>
            		<td class="tableColumn4"></td>
            		<td class="tableColumn5"></td>
            	</tr>
            	<tr id="row_6" class="tableEntryB">
            		<td class="tableColumn1"></td>
            		<td class="tableColumn2"></td>
            		<td class="tableColumn3"></td>
            		<td class="tableColumn4"></td>
            		<td class="tableColumn5"></td>
            	</tr>
            	<tr id="row_7" class="tableEntryA">
            		<td class="tableColumn1"></td>
            		<td class="tableColumn2"></td>
            		<td class="tableColumn3"></td>
            		<td class="tableColumn4"></td>
            		<td class="tableColumn5"></td>
            	</tr>
            	<tr id="row_8" class="tableEntryB">
            		<td class="tableColumn1"></td>
            		<td class="tableColumn2"></td>
            		<td class="tableColumn3"></td>
            		<td class="tableColumn4"></td>
            		<td class="tableColumn5"></td>
            	</tr>
            	<tr id="row_9" class="tableEntryA">
            		<td class="tableColumn1"></td>
            		<td class="tableColumn2"></td>
            		<td class="tableColumn3"></td>
            		<td class="tableColumn4"></td>
            		<td class="tableColumn5"></td>
            	</tr>
            	<tr id="row_10" class="tableEntryB">
            		<td class="tableColumn1"></td>
            		<td class="tableColumn2"></td>
            		<td class="tableColumn3"></td>
            		<td class="tableColumn4"></td>
            		<td class="tableColumn5"></td>
            	</tr>
            	<tr id="row_11" class="tableEntryA">
            		<td class="tableColumn1"></td>
            		<td class="tableColumn2"></td>
            		<td class="tableColumn3"></td>
            		<td class="tableColumn4"></td>
            		<td class="tableColumn5"></td>
            	</tr>
            	<tr id="row_12" class="tableEntryB">
            		<td class="tableColumn1"></td>
            		<td class="tableColumn2"></td>
            		<td class="tableColumn3"></td>
            		<td class="tableColumn4"></td>
            		<td class="tableColumn5"></td>
            	</tr>
            	<tr id="row_13" class="tableEntryA">
            		<td class="tableColumn1"></td>
            		<td class="tableColumn2"></td>
            		<td class="tableColumn3"></td>
            		<td class="tableColumn4"></td>
            		<td class="tableColumn5"></td>
            	</tr>
            	<tr id="row_14" class="tableEntryB">
            		<td class="tableColumn1"></td>
            		<td class="tableColumn2"></td>
            		<td class="tableColumn3"></td>
            		<td class="tableColumn4"></td>
            		<td class="tableColumn5"></td>
            	</tr>
            	<tr id="row_15" class="tableEntryA">
            		<td class="tableColumn1"></td>
            		<td class="tableColumn2"></td>
            		<td class="tableColumn3"></td>
            		<td class="tableColumn4"></td>
            		<td class="tableColumn5"></td>
            	</tr>
            	<tr id="row_16" class="tableEntryB">
            		<td class="tableColumn1"></td>
            		<td class="tableColumn2"></td>
            		<td class="tableColumn3"></td>
            		<td class="tableColumn4"></td>
            		<td class="tableColumn5"></td>
            	</tr>
            	<tr id="row_17" class="tableEntryA">
            		<td class="tableColumn1"></td>
            		<td class="tableColumn2"></td>
            		<td class="tableColumn3"></td>
            		<td class="tableColumn4"></td>
            		<td class="tableColumn5"></td>
            	</tr>
            	<tr id="row_18" class="tableEntryB">
            		<td class="tableColumn1"></td>
            		<td class="tableColumn2"></td>
            		<td class="tableColumn3"></td>
            		<td class="tableColumn4"></td>
            		<td class="tableColumn5"></td>
            	</tr>
            	<tr id="row_19" class="tableEntryA">
            		<td class="tableColumn1"></td>
            		<td class="tableColumn2"></td>
            		<td class="tableColumn3"></td>
            		<td class="tableColumn4"></td>
            		<td class="tableColumn5"></td>
            	</tr>
            	<tr id="row_20" class="tableEntryB">
            		<td class="tableColumn1"></td>
            		<td class="tableColumn2"></td>
            		<td class="tableColumn3"></td>
            		<td class="tableColumn4"></td>
            		<td class="tableColumn5"></td>
            	</tr>
            	<tr id="row_21" class="tableEntryA">
            		<td class="tableColumn1"></td>
            		<td class="tableColumn2"></td>
            		<td class="tableColumn3"></td>
            		<td class="tableColumn4"></td>
            		<td class="tableColumn5"></td>
            	</tr>
            </tbody>
          </table>
        <script type="text/javascript">
            document.getElementById("Table-Data").addEventListener('click', (e) => {
                var rowID = e.target.closest('tr').id;
                var row = document.getElementById(rowID);
                console.log(e.target.closest('tr').id);
                console.log(row);

                if (row.classList.contains('selectedRow')) {
                    row.classList.remove('selectedRow');
                    console.log('already');
                } else {
                    row.classList.add('selectedRow');
                    console.log('newly');
                }
            }); 
        </script>

          <div id="Sale-Overview">
            <div id="Customer-Info">

            </div>
            <div id="Totals">

            </div>
          </div>
        </section>

        <aside id="Quick-Buttons">
	  <div class="qbtns">
	    <br>
	    <div class="qbtn-group">
	      <button>Common Item</button>
	      <button>Common Item</button>
	      <button>Common Item</button>
	    </div>
	    <br>
	    <div class="qbtn-group">
	      <button>Common Item</button>
	      <button>Common Item</button>
	      <button>Common Item</button>
	    </div>
	    <br>
	    <div class="qbtn-group">
	      <button>Common Item</button>
	      <button>Common Item</button>
	      <button>Common Item</button>
	    </div>
	    <br>
	    <div class="qbtn-group">
	      <button>Common Item</button>
	      <button>Common Item</button>
	      <button>Common Item</button>
	    </div>
	  </div>
	  <br>
	  <div class="ubtns">
	    <div class="ubtn-group">
	      <button>Utility Button</button>
	      <button>Utility Button</button>
	      <button>Utility Button</button>
	    </div>
	    <br>
	    <div class="ubtn-group">
	      <button>Utility Button</button>
	      <button>Utility Button</button>
	      <button>Utility Button</button>
	    </div>
	    <br>
	  </div>
	  <div class="pbtns">
	    <div class="pbtn-group">
	      <button>Payment Button</button>
	      <button>Payment Button</button>
	      <button>Payment Button</button>
	    </div>
	  </div>
        </aside>
      </div>
    </div>
  </body>
